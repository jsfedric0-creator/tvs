[program:nginx]
command=/usr/sbin/nginx -g "daemon off;"
autostart=true
autorestart=true
startretries=5
user=www-data
stdout_logfile=/var/log/kidstv/nginx/nginx-stdout.log
stderr_logfile=/var/log/kidstv/nginx/nginx-stderr.log
stdout_logfile_maxbytes=10MB
stderr_logfile_maxbytes=10MB

[program:stream-scheduler]
command=python3 /app/scheduler/main.py
autostart=true
autorestart=true
startretries=5
user=kidstv
environment=TZ="Asia/Riyadh",LANG="ar_SA.UTF-8"
stdout_logfile=/var/log/kidstv/scheduler/scheduler-stdout.log
stderr_logfile=/var/log/kidstv/scheduler/scheduler-stderr.log

[program:tv-api]
command=python3 /app/api/main.py
autostart=true
autorestart=true
startretries=5
user=kidstv
environment=TZ="Asia/Riyadh",LANG="ar_SA.UTF-8"
stdout_logfile=/var/log/kidstv/api/api-stdout.log
stderr_logfile=/var/log/kidstv/api/api-stderr.log

[program:auto-streamer]
command=/app/scripts/auto_stream.sh
autostart=true
autorestart=true
startretries=5
user=kidstv
stdout_logfile=/var/log/kidstv/ffmpeg/streamer-stdout.log
stderr_logfile=/var/log/kidstv/ffmpeg/streamer-stderr.log

[program:recorder]
command=/app/scripts/recorder.sh
autostart=true
autorestart=true
startretries=5
user=kidstv
stdout_logfile=/var/log/kidstv/ffmpeg/recorder-stdout.log
stderr_logfile=/var/log/kidstv/ffmpeg/recorder-stderr.log

[program:control-panel]
command=node /app/control-panel/app.js
autostart=true
autorestart=true
startretries=5
user=kidstv
stdout_logfile=/var/log/kidstv/control/control-stdout.log
stderr_logfile=/var/log/kidstv/control/control-stderr.log
